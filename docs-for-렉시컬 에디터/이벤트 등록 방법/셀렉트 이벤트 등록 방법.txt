셀렉트 이벤트 등록 방법
========================


Q. 이 코드는 셀렉션 선택에 대해 함수를 실행하라는 이벤트를 등록한다는거 맞지?
   useEffect가 적당해?

  useEffect(() => {
    return editor.registerCommand(
      SELECTION_CHANGE_COMMAND,
      () => {
        updateState();
        return false;
      },
      COMMAND_PRIORITY_CRITICAL,
    );
  }, [editor, updateState]);


A. 네 맞다. 셀렉션 변경 이벤트에 리스너를 등록하는 것이다.

   useEffect가 적당한 이유:
   - 컴포넌트 마운트 시 1번만 이벤트 등록
   - return editor.registerCommand(...)
     → registerCommand가 cleanup 함수를 반환함
   - 컴포넌트 언마운트 시 자동으로 이벤트 해제

   브라우저의 addEventListener/removeEventListener 패턴과 동일하다.
   Lexical의 공식 패턴이기도 하다.


참고: 파일 위치
  shared/ui/lexical/toolbar/FontSizeDropdown.tsx
  shared/ui/lexical/toolbar/TextFormatButtons.tsx
  shared/ui/lexical/toolbar/BlockTypeButtons.tsx
  (세 파일 모두 동일한 패턴 사용)
